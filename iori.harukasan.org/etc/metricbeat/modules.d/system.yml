# Module: system

- module: system
  period: 10s
  metricsets:
    - cpu
    - load
    - memory
    - network
    - process_summary
    - socket_summary
    #- socket
    - service
    - users
    - diskio
  diskio.include_devices: ["sdb", "sdb1", "sdc", "sdc1", "sdd", "sdd1", "sde", "sde1", "sdf", "sdf1", "sdg", "sdg1"]

#- module: system
#  period: 10s
#  metricsets:
#    - process
#  processes: ['.*']
#  process.include_top_n:
#    by_cpu: 7     # include top 7 processes by CPU
#    by_memory: 7  # include top 7 processes by memory

- module: system
  period: 1m
  metricsets:
    - filesystem
    - fsstat
  processors:
    - drop_event.when.regexp:
        system.filesystem.mount_point: '^/(sys|cgroup|proc|dev|etc|host|lib|snap)($|/)'

- module: system
  period: 15m
  metricsets:
    - uptime
